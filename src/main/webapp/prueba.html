<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
    <title>PinkArt</title>
</head>
<header style="background-color: #d8b1b1;">

    <div class="texto-centrado">
        <a href="./artistas.html"><img class="logo-artist" src="./Images/pinkart2.png" alt=""></a>
        ESTAS SON LAS ÚLTIMAS OBRAS AGREGADAS
    </div>
</header>
<body>
<div id = container class=""></div>
<script>

    let container = document.getElementById("container");

    fetch("api/users/obtenerobras")
        .then(response => response.json())
        .then(jsondata =>{
           jsondata.map(register=>{

               let obra = document.createElement("div");
               obra.style = "max-width:400px;background-color: #e7e0e0bd;border-radius: 5px;border-style: groove;"
               +" margin-top: 100px;margin-right: auto; margin-left: auto;margin-bottom: 100px;min-width: 800px;"
                   + "min-height: 500px";
               let image = document.createElement("img");
               image.src = register["file"];
               image.width = 400;

               image.style = "border-radius: 5px;border-style: groove; margin-left: 200px;margin-top: 30px;margin-bottom: 30px;  border-color: #d8b1b1";



               let title = document.createElement("p");
               title.innerHTML = "Titulo: "+register["title"]
               title.style = "font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  font-size: 20px;"

               let creator =document.createElement("p");
               creator.innerHTML = "Creador: "+register["author"];
               creator.style = "font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  font-size: 20px;"

               let price = document.createElement("p");
               price.innerHTML = "Precio: "+register["price"]+" Fcoins";
               price.style = "font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  font-size: 20px;"

               let collection = document.createElement("p");
               collection.innerHTML = "Colección: "+register["collection"];
               collection.style = "font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  font-size: 20px;"

               let likes = document.createElement("button")
               likes.innerHTML = "Likes: "+register["likes"]
               likes.style = "font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;q  font-size: 20px;"
               /*    likes.document.ready(function(){
                       $("likes").click(function(){
                           if( $(this).val() == 0 ){
                               $(this).val(1);
                           }else{
                               $(this).val(0);
                           }
                       })
                   })*/

               // String id_art = register["id_art"];
               let id_art = document.createElement("button")
               id_art.innerHTML = "Id obra: "+ register["id_art"];
               id_art.id = register["id_art"];
               console.log(register["id_art"]);



               obra.appendChild(image);
               obra.appendChild(title);
               obra.appendChild(creator);
               obra.appendChild(price);
               obra.appendChild(collection);
               obra.appendChild(likes);
               obra.appendChild(id_art);
               container.appendChild(obra);
           })
        })



</script>
</body>